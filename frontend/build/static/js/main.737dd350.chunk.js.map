{"version":3,"sources":["components/ProtectedRoute.js","images/logo.svg","components/Header.js","images/pen.svg","images/plus.svg","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","images/close-icon.svg","components/PopupWithForm.js","components/ImagePopup.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/Register.js","components/Login.js","components/InfoTooltip.js","images/union-yes.png","images/union-no.png","utils/token.js","utils/api.js","mestoAuth.js","components/App.js","index.js"],"names":["ProtectedRoute","Component","component","props","loggedIn","to","Header","email","onSignOut","headerEmailClassName","className","src","headerLogo","alt","path","exact","onClick","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardDelete","onCardLike","currentUser","useContext","isOwn","owner","_id","cardTrashButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","link","name","_","type","length","Main","cards","onEditProfile","onAddPlace","onEditAvatar","style","backgroundImage","avatar","editButton","about","addButton","aria-label","map","Footer","Date","getFullYear","PopupWithForm","isOpen","title","children","onSubmit","buttonText","onClose","closeButton","noValidate","ImagePopup","EditProfilePopup","onUpdateUser","useState","setName","setAbout","useEffect","e","preventDefault","placeholder","value","onChange","target","required","minLength","maxLength","id","EditAvatarPopup","onUpdateAvatar","setAvatar","avatarRef","useRef","current","ref","AddPlacePopup","setLink","Register","onRegister","password","data","setData","handleChange","prevData","Login","onLogin","InfoTooltip","status","TOKEN_KEY","setToken","token","localStorage","setItem","getToken","getItem","removeToken","removeItem","api","baseUrl","headers","this","res","ok","json","Promise","reject","all","getInitialCards","getUserInfo","fetch","then","resFetch","method","body","JSON","stringify","cardId","window","location","protocol","process","REACT_APP_API_URL","BASE_URL","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isTrashOpen","setIsTrashOpen","isInfoTooltipOpen","setIsInfoTooltipOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","setStatus","setLoggedIn","setEmail","history","useHistory","handleInfoTooltipOpen","closeAllPopups","jwt","push","catch","err","console","log","getAppInfo","info","Provider","mestoAuth","statusCode","onTrashClick","putDislike","newCard","newCards","c","putLike","removeCard","filter","editUserInfo","editAvatar","addNewCard","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.737dd350.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props  }) => {\r\n  return (\r\n    <Route>\r\n      {\r\n        () => props.loggedIn === true ? <Component {...props} /> : <Redirect to=\"/login\" />\r\n      }\r\n    </Route>\r\n)}\r\nexport default ProtectedRoute;","export default __webpack_public_path__ + \"static/media/logo.2e17206c.svg\";","import React from \"react\";\r\nimport { Route, Switch, Link } from 'react-router-dom';\r\nimport headerLogo from \"../images/logo.svg\";\r\n\r\nfunction Header({loggedIn, email, onSignOut}) {\r\n  const headerEmailClassName = ` ${\r\n    loggedIn ? \"header__email\" : \"header__email_hidden\"\r\n  }`; \r\n  return (\r\n    <header className=\"header\">\r\n      <div className=\"header__container\">\r\n      <img\r\n        className=\"header__logo\"\r\n        src={headerLogo}\r\n        alt=\"Логотип Место Россия\"\r\n      />\r\n     < div className=\"header__box\">  \r\n      <p className={headerEmailClassName}>{email}</p> \r\n      <Switch>\r\n       <Route path=\"/signup\">\r\n         <Link to=\"/signin\" className=\"header__link\">Войти</Link>\r\n       </Route>\r\n       <Route path=\"/signin\">\r\n        <Link to=\"/signup\" className=\"header__link\">Регистрация</Link>\r\n       </Route>\r\n       < Route  exact path=\"/\">\r\n        <Link to=\"/signin\" className=\"header__link\" onClick={onSignOut}>Выйти</Link>\r\n       </Route> \r\n     </Switch>\r\n     </div>   \r\n   </div>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","export default __webpack_public_path__ + \"static/media/pen.3db4c7ac.svg\";","export default __webpack_public_path__ + \"static/media/plus.faab8119.svg\";","import React from \"react\";\r\nexport const CurrentUserContext = React.createContext();\r\n","import React, { useContext } from \"react\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nfunction Card({ card, onCardClick, onCardDelete, onCardLike }) {\r\n  const currentUser = useContext(CurrentUserContext);\r\n  const isOwn = card.owner === currentUser._id;\r\n  const cardTrashButtonClassName = ` ${\r\n    isOwn ? \"card__trash\" : \"card__trash_hidden\"\r\n  }`;\r\n  const isLiked = card.likes.some((i) => i === currentUser._id);\r\n  const cardLikeButtonClassName = `${\r\n    isLiked ? \"card__like_active\" : \"card__like\"\r\n  }`;\r\n\r\n  return (\r\n    <li className=\"card\">\r\n      <img\r\n        src={card.link}\r\n        alt={card.name}\r\n        className=\"card__image\"\r\n        onClick={(_) => onCardClick(card)}\r\n      />\r\n      <button\r\n        type=\"button\"\r\n        className={cardTrashButtonClassName}\r\n        onClick={(_) => onCardDelete(card)}\r\n      ></button>\r\n      <div className=\"card__text-box\">\r\n        <h3 className=\"card__title\">{card.name}</h3>\r\n        <div className=\"card__like-box\">\r\n          <button\r\n            type=\"button\"\r\n            className={cardLikeButtonClassName}\r\n            onClick={(_) => onCardLike(card)}\r\n          ></button>\r\n          <p className=\"card__like-counter\">{card.likes.length}</p>\r\n        </div>\r\n      </div>\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default Card;\r\n","import React, { useContext } from \"react\";\r\nimport editButton from \"../images/pen.svg\";\r\nimport addButton from \"../images/plus.svg\";\r\nimport Card from \"./Card\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nfunction Main({\r\n  cards,\r\n  onEditProfile,\r\n  onAddPlace,\r\n  onEditAvatar,\r\n  onCardClick,\r\n  onCardLike,\r\n  onCardDelete,\r\n}) {\r\n  const currentUser = useContext(CurrentUserContext);  \r\n\r\n  return (\r\n    <main className=\"content\">\r\n      <section className=\"profile\">\r\n        <button\r\n          type=\"button\"\r\n          className=\"profile__avatar \"\r\n          onClick={onEditAvatar}\r\n          style={{ backgroundImage: ` url(${currentUser.avatar})` }}\r\n        />\r\n        <div className=\"profile__text-box\">\r\n          <div className=\"profile__name-box\">\r\n            <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n            <button\r\n              className=\"edit-button edit-button_opened\"\r\n              onClick={onEditProfile}\r\n            >\r\n              <img\r\n                className=\"edit-button__img\"\r\n                src={editButton}\r\n                alt=\"Кнопка редактирования\"\r\n              />\r\n            </button>\r\n          </div>\r\n          <p className=\"profile__about\">{currentUser.about}</p>\r\n        </div>\r\n        <button className=\"add-button add-button_opened\" onClick={onAddPlace}>\r\n          <img\r\n            className=\"add-button__img\"\r\n            src={addButton}\r\n            alt=\"Кнопка Добавить\"\r\n          />\r\n        </button>\r\n      </section>\r\n      <section className=\"cards\" aria-label=\"Карточки\">\r\n        <ul className=\"cards__list\">\r\n          {cards.map((card) => (\r\n            <Card\r\n              key={card._id}\r\n              card={card}\r\n              onCardClick={onCardClick}\r\n              onCardDelete={onCardDelete}\r\n              onCardLike={onCardLike}\r\n            />\r\n          ))}\r\n        </ul>\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","import React from \"react\";\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copyright\">\r\n        &#169; {new Date().getFullYear()} Mesto Russia\r\n      </p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","export default __webpack_public_path__ + \"static/media/close-icon.51af9b15.svg\";","import React from \"react\";\r\nimport closeButton from \"../images/close-icon.svg\";\r\n\r\nfunction PopupWithForm({\r\n  isOpen,\r\n  name,\r\n  title,\r\n  children,\r\n  onSubmit,\r\n  buttonText,\r\n  onClose,\r\n}) {\r\n  return (\r\n    <div\r\n      className={\r\n        isOpen ? `popup popup__${name} popup_opened` : ` popup popup__${name}`\r\n      }\r\n    >\r\n      <div className=\"popup__container\">\r\n        <button className=\"popup__close\">\r\n          <img\r\n            className=\"popup__close-img\"\r\n            src={closeButton}\r\n            alt=\"Закрывающая кнопка\"\r\n            onClick={onClose}\r\n          />\r\n        </button>\r\n        <h2 className=\"popup__title\">{title}</h2>\r\n        <form\r\n          name={`${name}form`}\r\n          className={`popup__form popup__form_${name}`}\r\n          onSubmit={onSubmit}\r\n          noValidate\r\n        >\r\n          {children}\r\n          <button className=\"popup__button\" type=\"submit\">\r\n            {buttonText}\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import React from \"react\";\r\nimport closeButton from \"../images/close-icon.svg\";\r\n\r\nfunction ImagePopup({ card, onClose }) {\r\n  return (\r\n    <div\r\n      className={\r\n        card ? \"popup popup_theme_dark popup_opened  popup_place\" : \"popup\"\r\n      }\r\n    >\r\n      <div className=\"popup__place-container\">\r\n        <img\r\n          src={card && card.link}\r\n          alt={card && card.name}\r\n          className=\"popup__image\"\r\n        />\r\n\r\n        <button className=\"popup__close\">\r\n          <img\r\n            className=\"popup__close-img\"\r\n            src={closeButton}\r\n            alt=\"Закрывающая кнопка\"\r\n            onClick={onClose}\r\n          />\r\n        </button>\r\n        <p className=\"popup__place-title\">{card && card.name}</p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser }) {\r\n  const currentUser = useContext(CurrentUserContext);\r\n  const [name, setName] = useState('');\r\n  const [about, setAbout] = useState('');\r\n\r\n  useEffect(() => {\r\n    setName(currentUser.name);\r\n    setAbout(currentUser.about);\r\n  }, [currentUser]);\r\n\r\n  function handleChangeName(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleChangeAbout(e) {\r\n    setAbout(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onUpdateUser({\r\n      name: name,\r\n      about: about,\r\n    });\r\n  }\r\n  return (\r\n    <PopupWithForm\r\n      name=\"edit\"\r\n      isOpen={isOpen}\r\n      title=\"Редактировать профиль\"\r\n      buttonText=\"Сохранить\"\r\n      onSubmit={handleSubmit}\r\n      children={\r\n        <>\r\n          <div className=\"popup__input-field\">\r\n            <input\r\n              type=\"text\"\r\n              name=\"username\"\r\n              placeholder=\"Имя\"\r\n              className=\"popup__input  popup__input_type_name\"\r\n              value={name}\r\n              onChange={handleChangeName}\r\n              required\r\n              minLength=\"2\"\r\n              maxLength=\"20\"\r\n            />\r\n            <span className=\"popup__error\" id=\"username-error\"></span>\r\n          </div>\r\n          <div className=\"popup__input-field\">\r\n            <input\r\n              type=\"text\"\r\n              name=\"about\"\r\n              placeholder=\"Род занятий\"\r\n              className=\" popup__input popup__input_type_about\"\r\n              value={about}\r\n              onChange={handleChangeAbout}\r\n              required\r\n              minLength=\"2\"\r\n              maxLength=\"200\"\r\n            />\r\n            <span className=\"popup__error\" id=\"about-error\"></span>\r\n          </div>\r\n        </>\r\n      }\r\n      onClose={onClose}\r\n    />\r\n  );\r\n}\r\n\r\nexport default EditProfilePopup;\r\n","import React, { useRef, useState } from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar }) {\r\n  const [avatar, setAvatar] = useState('');\r\n  const avatarRef = useRef();\r\n\r\n  function handleChangeAvatar(e) {\r\n    setAvatar(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onUpdateAvatar({\r\n      avatar: avatarRef.current.value,\r\n    });\r\n    setAvatar(\"\");\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"update\"\r\n      isOpen={isOpen}\r\n      title=\"Обновить аватар\"\r\n      buttonText=\"Сохранить\"\r\n      onSubmit={handleSubmit}\r\n      children={\r\n        <>\r\n          <div className=\"popup__input-field\">\r\n            <input\r\n              type=\"url\"\r\n              name=\"avatar\"\r\n              placeholder=\"Ссылка на аватар\"\r\n              className=\" popup__input popup__input_type_avatar\"\r\n              value={avatar}\r\n              ref={avatarRef}\r\n              onChange={handleChangeAvatar}\r\n              required\r\n            />\r\n            <span className=\"popup__error\" id=\"avatar-error\"></span>\r\n          </div>\r\n        </>\r\n      }\r\n      onClose={onClose}\r\n    />\r\n  );\r\n}\r\nexport default EditAvatarPopup;\r\n","import React, { useState } from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace }) {\r\n  const [name, setName] = useState(\"\");\r\n  const [link, setLink] = useState(\"\");\r\n\r\n  function handleChangeName(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleChangeLink(e) {\r\n    setLink(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onAddPlace({\r\n      name: name,\r\n      link: link,\r\n    });\r\n    setName(\"\");\r\n    setLink(\"\");\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"add\"\r\n      isOpen={isOpen}\r\n      title=\"Новое место\"\r\n      buttonText=\"Создать\"\r\n      onSubmit={handleSubmit}\r\n      children={\r\n        <>\r\n          <div className=\"popup__input-field\">\r\n            <input\r\n              type=\"text\"\r\n              name=\"name\"\r\n              placeholder=\"Название\"\r\n              className=\"popup__input popup__input_type_cardname\"\r\n              value={name}\r\n              onChange={handleChangeName}\r\n              required\r\n              minLength=\"1\"\r\n              maxLength=\"30\"\r\n            />\r\n            <span className=\"popup__error\" id=\"name-error\"></span>\r\n          </div>\r\n          <div className=\"popup__input-field\">\r\n            <input\r\n              type=\"url\"\r\n              name=\"link\"\r\n              placeholder=\"Ссылка на картинку\"\r\n              className=\" popup__input popup__input_type_link\"\r\n              value={link}\r\n              onChange={handleChangeLink}\r\n              required\r\n            />\r\n            <span className=\"popup__error\" id=\"link-error\"></span>\r\n          </div>\r\n        </>\r\n      }\r\n      onClose={onClose}\r\n    />\r\n  );\r\n}\r\nexport default AddPlacePopup;\r\n","import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\nconst Register = ({onRegister}) => {   \r\n  const [data, setData] = useState( {      \r\n    email: '',\r\n    password: '',      \r\n  }); \r\n\r\n  const handleChange = (e) => {\r\n    const {name, value} = e.target;\r\n      setData((prevData) => ({\r\n      ...prevData,\r\n      [name]: value,\r\n    }));\r\n  }\r\n      \r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    onRegister(data);\r\n    }\r\n\r\n    return(\r\n   <section\r\n    className=\"popup popup_theme_sign\">\r\n    <div className=\"popup__container popup__container_theme_sign\"> \r\n      <h2 className=\"popup__title  popup__title_type_sign\">Регистрация</h2>\r\n    <form\r\n      name=\"registerform\"\r\n      className=\"popup__form popup__form_register\"\r\n      onSubmit={handleSubmit}\r\n      noValidate\r\n    >\r\n    <div className=\"popup__input-field\">\r\n      <input\r\n        type=\"email\"\r\n        id=\"email\"\r\n        name=\"email\"\r\n        className=\" popup__input popup__input_type_sign\"\r\n        placeholder=\"Email\"\r\n        value={data.email || ''}\r\n        onChange={handleChange}\r\n        required\r\n      />\r\n      <span className=\"popup__error\" id=\"email-error\"></span>\r\n      </div>\r\n    <div className=\"popup__input-field\">\r\n      <input\r\n        type=\"password\"\r\n        id=\"password\"\r\n        name=\"password\"\r\n        placeholder=\"Пароль\"              \r\n        className=\" popup__input popup__input_type_sign\" \r\n        value={data.password || ''}             \r\n        onChange={handleChange}\r\n        required\r\n        minLength=\"4\"\r\n        maxLength=\"12\"\r\n      />\r\n      <span className=\"popup__error\" id=\"password-error\"></span>\r\n    </div>          \r\n    <button className=\"popup__button popup__button_theme_sign\" type=\"submit\">Зарегистрироваться\r\n    </button>\r\n    </form>\r\n    <p className=\"popup__footnote\">Уже зарегистрированы?\r\n    <Link to=\"/signin\" className=\"popup__link\">Войти</Link>\r\n    </p>  \r\n  </div>\r\n</section>\r\n    )\r\n  }\r\n  \r\n  export default Register;\r\n  ","import React, { useState } from 'react';\r\n\r\n\r\nconst Login = ({onLogin}) => {\r\n    const [data, setData] = useState({\r\n      email: '',\r\n      password: '',\r\n    });    \r\n   \r\n    const handleChange = (e) => {\r\n      const {name, value} = e.target;\r\n      setData((prevData) => ({\r\n        ...prevData,\r\n        [name]: value,\r\n      }));\r\n    }     \r\n\r\n    const handleSubmit = (e) => {\r\n      e.preventDefault();\r\n      onLogin(data);\r\n    }\r\n  \r\n    return(\r\n      <section\r\n    className=\"popup popup_theme_sign\">\r\n    <div className=\"popup__container popup__container_theme_sign\"> \r\n    <h2 className=\"popup__title  popup__title_type_sign\">Вход</h2>\r\n    <form\r\n      name=\"loginform\"\r\n      className=\"popup__form popup__form_login\"\r\n      onSubmit={handleSubmit}\r\n      noValidate\r\n    >\r\n    <div className=\"popup__input-field\">\r\n      <input\r\n        type=\"email\"\r\n        id=\"loginemail\"\r\n        name=\"email\"\r\n        className=\" popup__input popup__input_type_sign\"\r\n        placeholder=\"Email\"\r\n        value={data.email || ''}\r\n        onChange={handleChange}\r\n        required\r\n      />\r\n      <span className=\"popup__error\" id=\"loginemail-error\"></span>\r\n      </div>\r\n    <div className=\"popup__input-field\">\r\n      <input\r\n        type=\"password\"\r\n        id=\"loginpassword\"\r\n        name=\"password\"\r\n        placeholder=\"Пароль\"              \r\n        className=\" popup__input popup__input_type_sign\" \r\n        value={data.password || ''}             \r\n        onChange={handleChange}\r\n        required\r\n        minLength=\"4\"\r\n        maxLength=\"12\"\r\n      />\r\n      <span className=\"popup__error\" id=\"loginpassword-error\"></span>\r\n    </div>          \r\n    <button className=\"popup__button popup__button_theme_sign\" type=\"submit\">Войти\r\n    </button>\r\n    </form>     \r\n   </div>\r\n  </section>\r\n    )\r\n  }\r\n  \r\n  export default Login;\r\n  \r\n","import React from \"react\";\r\nimport closeButton from \"../images/close-icon.svg\";\r\nimport unionDisonnect from \"../images/union-no.png\";\r\nimport unionConnect from \"../images/union-yes.png\";\r\n\r\n\r\nfunction InfoTooltip ({ status, onClose, isOpen}) {\r\n    return ( \r\n      <div className= {\r\n        isOpen ? \" popup popup_opened\" : \"popup\" } >\r\n        <div className=\"popup__container\">\r\n        <button className=\"popup__close\">\r\n          <img\r\n            className=\"popup__close-img\"\r\n            src={closeButton}\r\n            alt=\"Закрывающая кнопка\"\r\n            onClick={onClose}\r\n          />        \r\n        </button>\r\n        <img\r\n            className=\"popup__union-img\"\r\n            src={ (status === 'sucess') ? unionConnect : unionDisonnect }\r\n            alt=\"Значок соединения\"            \r\n        />\r\n        < h2 className=\"popup__union-text\">\r\n          { (status === 'sucess') ? \"Вы успешно зарегистрировались!\" : \"Что-то пошло не так!Попробуйте ещё раз.\" }\r\n        </h2>\r\n        </div>\r\n      </div>      \r\n    );\r\n  }\r\n\r\n  export default InfoTooltip;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAMAAAAOusbgAAAAPFBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADQLyYwAAAAE3RSTlMAIN/vv0BwEIBgMJ/PX6+Qj6BQHC2kXQAABCpJREFUaN7Vm+mSmzAQhGd0S4hj7fd/11gmTldis0IXtek/SdUCn6c1jNBFxbLab5MSQt6TRFSLM9rSWGmziPtHicVoGiNrlLx/K7nMPID65/Fxcl4z7+5y0N4t+EmqK1tv8rehkz94bvBfr0aYdC+s+h2MyQTDXr3C7odV5lTiso+7NXMXrFwL3AtfO7rFcN6xzhbetopnW3Mt10hgC9EukaVpCHeylWY9DRdcGW5saCgWNUHbLf1gR016+r2V/dqYfArUKBaFdod0w2qpWXYtIuvUvIa6yKSGvtEpzela3QEK9+azXLjTLga5gjuefAO3L1lnrpHg9iXLkLmimtv03AFcOBmPC0Oqk4GGSH9XPU2PulH0cNix0jCtjwTjwwa2NEz28Xx15AXTQAWY/a/RjobKfTR7ehhNgxU/mK3HGg2Ifs+siYbr6y1kj4BHysp/QxbIrKFy/4TsMzV6WMjqsJCOCjmf0kNDni5IaZRsdAiM3nCg4K60SK1I44V8MvjvTOOFzkjBaabLZB84+3Ja0XWC10tXp4M77bXs6XSQudqbmlamf3XPjniWJ8bzYq8hpmP1mO9PuWznaNDE/bjHZNSNZQ88dHtDXzKZRhbP10r26nh2ZadPUjrblFuqO5ezH306+bNcxkV2+XSDu4yLi9eU1P4yLtJ6IpX8btVUxH3mVWro0JEbwc28TwKVugfX0lnw42o6IXv8F1XI3WvHSTAfLjLYCO7XOS4lKMC5DmXLc4l6g91RvrLIcNvAHqX/mOuoCLwX7O+Fx0/cyAX4zOuk3rqdRi7e43zAILRwMQ0TUTJzSzmoTS1clMzURZ3/tsC6YZBVXHz7rLjvtN3b31xf0Ze5RJ9ODi8hcWvhpq7YJL/jOX/E/ZNkOfeZVwUfe6w+cUMZEx97Jf2ia+TibRK74b5gEQlCPalI6swQJvNKC679cDDlgzYjG7gYtFUMU1lUczFMxQi9RA7c2ibGCL1IXlRyMdeD2ZAisYq2hom5HnhdqDou5nrg9WWKu9OY2LxIAU5jYvMCYcIWE5uDhdTSf2W4o0u0IZ8uDZkFUuvSkB06hktD5vdtCmr86gDWEd9X3waLP0HU0PUBrCP+nGVcMqPXYvhojlONX6oXh5sTNhqmLRn9s7ZjEK3j3qlw/64HtPHNjp6bfX7iJiMKg7ZV5Z3UozaS3SgjP2brnCeqII/nghx6cbUEN6db7w2husidzbZj7Qb3Ou/WzU8gxLLHrL22Oa+lxhnZGLSOlbvZuWkHvp3S3YrrN+/fHVdgnUS49TvwNy7GItxKaXFPmkLxwRmlqU1+R8eZz54SArYVrU6eKOJEBbaD9Gs+T0xzOID6KVmDgzOdxB4HrdTivA68W8usvZui3P+GU0Jd2UvuaNkB9X89TIfjg8YtKoo9SCHUtHpdHukvu5BrWH2CjagAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAMAAAAOusbgAAAAS1BMVEUAAAD9Bgb/CAj9Bwf9Bgb+Bwf7Bgb/DAz7Cwv6BQX7CAj+Bwf8CAj+Bwf8Bwf8Bwf/CAj/CAj9Bwf+Bwf/Bgb+Bgb8BQX9Bwf9BwenTdbWAAAAGHRSTlMA7yDfn7+AEDAwQIBgcG+QX0Cvz4/PYFCEaMlPAAAEX0lEQVRo3s2b3XajMAyEZWMwfwkBktTv/6Qb19udc9omwgPO2bnqBfBVY1kOWJZs+fk+ubqqTIiq1noZzrOXsprPSxV+VbWcZykjf65NeCmzXGwB6r/Hr26499Ymd23X34cF/1J9KHuezF9D3f3Jc7vRfQ2Cm4/C1n+DOSvB2LH+CvsYbKKqiZvYa7LmcgjWTL1sVucSeo/hNmEbn3nbVH2ONZ1mJwNsJrqJZHPaEa7zpFnu029Lhrv2O8apikHnJpm/hoca2aVPv695/+0afepYIoLOtLuLN0xedstPWeQ5Du9ZDtE5DvSHbNIlXqtkVaZ7l01cxR1qoC8stzz5A9xjyb1yjQH3WLJplSto7q7nFuDCyfV5YYh1spMi6l9Vz1GpG7sryem5HZMU0xSCsU8H2Esx+cfz618X4IcXVgqqg9nfjW6kqIZfzXYPo6Wwbr+YPZc1GnOq/5lZTorL/Qh5RMAl5c33kCtkVlEN30IelRpdLOT6aSEtEXJuSvvjQ3ZbUnowraj62FCysSDYR8DtBo90sgvDhrlsPFLrtoGrkJNzCjnl0wl/XnRuImtcnXx6pBectipXJSeuTvaPS/yX07X6iwlkhQuy6vWiO93pZHBDs9FrA6e3kVkuJpH5Wz0qkSwyy8XC0KfInRBkgourTxjiPDLHRd1YUuCtEGSaK/ZzcH0aaoJMclM6e5kxiwkyxZVbzK5TNJwik9x0zygDKg1BpriROckS6SQ5m4u0dlJHv1kyx015dcNsyiaHfC7mU4VKTZDBzQY/7hIhyDw31Q6ACTLJlQgFmCc3UhwMcoCu8kawC5BpKXAs2CQXZAKM6URxQS4+j8HlyW0IN5RMgkuQUTLjEsVynckm47fPFMJAchvpOHJciiPdsVwhyUv8mdnHgSa5JDnlVSzYJJclp9qB+URwM8mYTVUyfGS4DBlJjVcYgkuR8QrTx8AJLkPGSxteUwkuQcZrKt7QCS5BxhDjDX07VyFbdRZf8DVE3/gDVyE3qtPBylavG+WpICtcfOvZ6HWjPTWRda7cktP4sKmRlacmss5t4TQ+bGrkRkQhq1x8sMWHTZXcHPBl2YbkLjJ8kLdoQj4h5DfIVkitt4Y8YGF4a8j2Z5tC/a4Nr0rZfWOUmdIIeZUCUvcRrWHzi9/GxSZ+KwVln7Ug1OW36qunOw9XKaYrjFY6Jo7V6VWn0VRuTnXh1Qrob7/ZcVizz//YZCRdobYq3cm+VCPZhygay7TOjSIEuTwX5MOK52zA1fRhUEmOqBumz3Ln6vdj/RU9vGS3Lt+Futrcn6G71+chML3Do9kZ9LzG4T1z04DvwPcu3l1zd5/Np9+WwA4G4fId+FdLYBEupb4KUa7NPjhT713Yx4ReL3brKSFgdwpHaxS2TdT9WBjuQlLlLu0T6N1Fa3Bw5iDZEQet6mW4z61N1lo73we3xmHVTgnx7EU7WqZSec9fHabrpax8fx6Weq1SkFVVu+ne50f6B54MpMzr1U9hAAAAAElFTkSuQmCC\"","const TOKEN_KEY = 'jwt';\r\n\r\nexport const setToken = (token) => {\r\n  localStorage.setItem(TOKEN_KEY, token);\r\n}\r\n\r\nexport const getToken = () => localStorage.getItem(TOKEN_KEY);\r\n\r\nexport const removeToken = () => {\r\n  localStorage.removeItem(TOKEN_KEY)\r\n}\r\n","import { getToken }  from './token';;\r\n\r\nexport class Api {\r\n  constructor({ baseUrl, headers }) {\r\n    this.baseUrl = baseUrl;\r\n    this.headers = headers;\r\n  }\r\n\r\n  resFetch(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(`Ошибка: ${res.status}`);\r\n  }\r\n \r\n\r\n  getAppInfo() {\r\n    return Promise.all([this.getInitialCards(), this.getUserInfo()]);\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(`${this.baseUrl}/cards`, {\r\n      headers: {\r\n        ...this.headers,\r\n        'authorization': `Bearer ${getToken()}`\r\n      }\r\n    }).then(this.resFetch);\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(`${this.baseUrl}/users/me`, {\r\n      headers: {\r\n        ...this.headers,\r\n        'authorization': `Bearer ${getToken()}`\r\n      }\r\n    }).then(this.resFetch);\r\n  }\r\n\r\n  addNewCard({ name, link }) {\r\n    return fetch(`${this.baseUrl}/cards`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        ...this.headers,\r\n        'authorization': `Bearer ${getToken()}`\r\n      },\r\n      body: JSON.stringify({ name, link }),\r\n    }).then(this.resFetch);\r\n  }\r\n\r\n  removeCard(cardId) {\r\n    return fetch(`${this.baseUrl}/cards/${cardId}`, {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        ...this.headers,\r\n        'authorization': `Bearer ${getToken()}`\r\n      }\r\n    }).then(this.resFetch);\r\n  }\r\n\r\n  editUserInfo({ name, about }) {\r\n    return fetch(`${this.baseUrl}/users/me`, {\r\n      method: \"PATCH\",\r\n      headers: {\r\n        ...this.headers,\r\n        'authorization': `Bearer ${getToken()}`\r\n      },\r\n      body: JSON.stringify({ name, about }),\r\n    }).then(this.resFetch);\r\n  }\r\n\r\n  editAvatar(avatar) {\r\n    return fetch(`${this.baseUrl}/users/me/avatar`, {\r\n      method: \"PATCH\",\r\n      headers: {\r\n        ...this.headers,\r\n        'authorization': `Bearer ${getToken()}`\r\n      },\r\n      body: JSON.stringify(avatar),\r\n    }).then(this.resFetch);\r\n  }\r\n\r\n  putLike(cardId) {\r\n    return fetch(`${this.baseUrl}/cards/${cardId}/likes`, {\r\n      method: \"PUT\",\r\n      headers: {\r\n        ...this.headers,\r\n        'authorization': `Bearer ${getToken()}`\r\n      }\r\n    }).then(this.resFetch);\r\n  }\r\n\r\n  putDislike(cardId) {\r\n    return fetch(`${this.baseUrl}/cards//${cardId}/likes/`, {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        ...this.headers,\r\n        'authorization': `Bearer ${getToken()}`\r\n      }\r\n    }).then(this.resFetch);\r\n  }\r\n}\r\n\r\nexport const api = new Api({\r\n  baseUrl: `${window.location.protocol}${process.env.REACT_APP_API_URL || '//localhost:3001'}`,\r\n  headers: {\r\n    \"Content-Type\": \"application/json\"\r\n  },\r\n});\r\n","import { setToken } from './utils/token';\r\n\r\nexport const BASE_URL = `${window.location.protocol}${process.env.REACT_APP_API_URL || '//localhost:3001'}`;\r\n\r\nexport const register = (email, password) => {\r\n  return fetch(`${BASE_URL}/signup`, {\r\n    method: 'POST',\r\n    headers: {      \r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({ password, email })\r\n  })\r\n  .then((res) => {\r\n    if (res.ok) {\r\n    return res.json();\r\n    }\r\n    return Promise.reject(res);\r\n  })    \r\n};\r\n\r\nexport const authorize = (email, password) => {\r\n  return fetch(`${BASE_URL}/signin`, {\r\n    method: 'POST',\r\n    headers: {      \r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({ email, password })\r\n  })\r\n  .then((res) => {    \r\n    if (res.ok) {\r\n      return res.json();\r\n      }\r\n      return Promise.reject(res);   \r\n  })\r\n  .then((data) => {    \r\n      setToken(data.jwt);      \r\n      return data;\r\n    \r\n  })  \r\n};\r\n\r\nexport const getContent = (token) => {\r\n  return fetch(`${BASE_URL}/users/me`, {\r\n    method: 'GET',\r\n    headers: {\r\n      'Accept': 'application/json',\r\n      'Content-Type': 'application/json',\r\n      'Authorization': `Bearer ${token}`,\r\n    }\r\n  })\r\n  .then((res) => res.json())   \r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Redirect, Route, Switch, useHistory } from 'react-router-dom';\r\nimport ProtectedRoute from './ProtectedRoute';\r\nimport Header from \"./Header\";\r\nimport Main from \"./Main\";\r\nimport Footer from \"./Footer\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport ImagePopup from \"./ImagePopup\";\r\nimport EditProfilePopup from \"./EditProfilePopup\";\r\nimport EditAvatarPopup from \"./EditAvatarPopup\";\r\nimport AddPlacePopup from \"./AddPlacePopup\";\r\nimport Register from \"./Register\";\r\nimport Login from \"./Login\";\r\nimport InfoTooltip from \"./InfoTooltip\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\nimport { api } from \"../utils/api.js\";\r\nimport * as mestoAuth from '../mestoAuth.js';\r\nimport { getToken, setToken, removeToken } from '../utils/token';\r\n\r\nfunction App() {\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);  \r\n  const [isTrashOpen, setIsTrashOpen] = useState(false);\r\n  const [isInfoTooltipOpen, setIsInfoTooltipOpen] = useState(false);\r\n  const [selectedCard, setSelectedCard] = useState(null);\r\n  const [currentUser, setCurrentUser] = useState({});\r\n  const [cards, setCards] = useState([]);\r\n  const [status, setStatus] = useState('');\r\n  const [loggedIn, setLoggedIn] = useState(false);\r\n  const [email, setEmail] = useState('');   \r\n  const history = useHistory();\r\n\r\n  \r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some((i) => i === currentUser._id);    \r\n    if (!isLiked) {\r\n      const jwt = getToken();\r\n      api.putLike(card._id, jwt).then((newCard) => {\r\n        const newCards = cards.map((c) => (c._id === card._id ? newCard : c));\r\n        setCards(newCards);\r\n      });\r\n    } else {\r\n      const jwt = getToken();\r\n      api.putDislike(card._id,jwt).then((newCard) => {\r\n        const newCards = cards.map((c) => (c._id === card._id ? newCard : c));\r\n        setCards(newCards);\r\n      });\r\n    }\r\n  }\r\n\r\n  function handleCardDelete(card) {\r\n    const jwt = getToken();\r\n    api.removeCard(card._id,jwt).then(() => {\r\n      const newCards = cards.filter((c) => c._id !== card._id);\r\n      setCards(newCards);\r\n    });\r\n  }\r\n\r\n  function handleEditAvatarClick() {\r\n    setIsEditAvatarPopupOpen(true);\r\n  }\r\n  function handleEditProfileClick() {\r\n    setIsEditProfilePopupOpen(true);\r\n  }\r\n\r\n  function handleAddPlaceClick() {\r\n    setIsAddPlacePopupOpen(true);\r\n  }\r\n\r\n  function handleTrashClick() {\r\n    setIsTrashOpen(true);\r\n  }\r\n\r\n  function handleCardClick(card) {\r\n    setSelectedCard(card);\r\n  }\r\n\r\n  function handleInfoTooltipOpen() {\r\n    setIsInfoTooltipOpen(true);\r\n  }\r\n\r\n \r\n  function closeAllPopups() {\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setIsEditAvatarPopupOpen(false);\r\n    setIsTrashOpen(false);\r\n    setIsInfoTooltipOpen(false);\r\n    setSelectedCard(null);\r\n  }\r\n\r\n  function handleUpdateUser({ name, about }) {\r\n    const jwt = getToken();\r\n    api.editUserInfo({ name, about },jwt).then((res) => {\r\n      setCurrentUser(res);\r\n      closeAllPopups();\r\n    });\r\n  }\r\n\r\n  function handleUpdateAvatar(avatar) {\r\n    const jwt = getToken();\r\n    api.editAvatar(avatar, jwt).then((res) => {\r\n      setCurrentUser(res);\r\n      closeAllPopups();\r\n    });\r\n  }\r\n\r\n  function handleAddPlace({ name, link }) {\r\n    const jwt = getToken();\r\n    api.addNewCard({ name, link }, jwt).then((newCard) => {\r\n      setCards([newCard, ...cards]);\r\n      closeAllPopups();\r\n    });\r\n  }\r\n\r\n  function onRegister (data) {\r\n  const { email, password } = data;    \r\n  mestoAuth.register( email, password ).then((res) => {        \r\n    if(res.statusCode !== 400){  \r\n      setStatus('sucess');\r\n      handleInfoTooltipOpen();      \r\n      history.push('/signin'); \r\n    }                \r\n  })\r\n  .catch((err) => {\r\n    console.log(err);\r\n      if(err.status === 400) {\r\n        setStatus('unsucess');\r\n        handleInfoTooltipOpen();\r\n        return console.log('Некорректно заполнено одно из полей');          \r\n      } else if (err.status === 409) {       \r\n        setStatus('unsucess');\r\n        handleInfoTooltipOpen();\r\n        return console.log('Пользователь с таким email уже зарегистрирован');\r\n      }  else if (err.status === 500) {\r\n        setStatus('unsucess');\r\n        handleInfoTooltipOpen();\r\n        return console.log('Ошибка сервера');\r\n      }\r\n    });\r\n  }\r\n  \r\n\r\n  const onLogin = (data) => {\r\n    const { email, password } = data;       \r\n      mestoAuth.authorize(email, password)  \r\n      .then((data) => {                        \r\n        if (data.token) {\r\n          setToken(data.token);\r\n          setEmail(email);      \r\n          setLoggedIn(true)         \r\n          history.push('/');\r\n        }        \r\n      })\r\n      .catch((err) => {\r\n      console.log(err);\r\n        if(err.status === 400) {\r\n          return console.log('Не передано одно из полей');\r\n        } else if(err.status === 401) {\r\n          return console.log('Пользователь с email не найден');\r\n        } else if (err.status === 500) {\r\n          return console.log('Ошибка сервера');\r\n        }\r\n      });\r\n  }\r\n\r\n  const onSignOut = ( ) => {\r\n    removeToken();\r\n    setLoggedIn(false);\r\n    history.push('/signin');\r\n  }\r\n\r\n    \r\n   useEffect(() => {           \r\n    const jwt = getToken();\r\n      if (jwt) {     \r\n      mestoAuth.getContent(jwt)\r\n        .then((res) => {\r\n          if (res) {           \r\n        setLoggedIn(true);   \r\n        setEmail(email);    \r\n        setStatus(res);\r\n        history.push('/')\r\n        }\r\n      }).catch((err) => {\r\n        console.log(err.status);\r\n        if(err.status === 401) {\r\n          removeToken();\r\n          return console.log('Переданный токен некорректен');\r\n        } else if(!jwt) {\r\n          removeToken();\r\n          return console.log('Токен не передан или передан не в том формате');\r\n        } else if (err.status === 500) {\r\n          removeToken();\r\n          return console.log('Ошибка сервера');\r\n        }\r\n      });\r\n    }           \r\n  }, []);\r\n\r\n  \r\n  \r\n  useEffect(() => {      \r\n    if (!loggedIn) {  \r\n      return\r\n    } \r\n    const jwt = getToken();  \r\n    api.getAppInfo(jwt)\r\n      .then((res) => {\r\n        const [cards, info] = res;\r\n        setCurrentUser(info);\r\n        setCards(cards);        \r\n      })\r\n      .catch((err) => {\r\n        console.log('Ошибка сервера');        \r\n      });    \r\n    }, [loggedIn]);    \r\n\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>          \r\n        <div className=\"page\">\r\n          <div className=\"page__container\">\r\n            <Header \r\n              email={email}\r\n              loggedIn={loggedIn} \r\n              onSignOut={onSignOut} \r\n            />\r\n            <Switch>\r\n            <Route path=\"/signup\">\r\n              <Register  onRegister={onRegister}  />\r\n            </Route>\r\n            <Route path=\"/signin\">\r\n             <Login onLogin={onLogin} />\r\n           </Route>           \r\n           <ProtectedRoute exact path=\"/\"\r\n              loggedIn={loggedIn}            \r\n              cards={cards}\r\n              onEditProfile={handleEditProfileClick}\r\n              onEditAvatar={handleEditAvatarClick}\r\n              onAddPlace={handleAddPlaceClick}\r\n              onCardClick={handleCardClick}\r\n              onTrashClick={handleTrashClick}\r\n              onCardLike={handleCardLike}\r\n              onCardDelete={handleCardDelete}\r\n              email={email}\r\n              component={Main}\r\n            /> \r\n             <Route  path=\"/\"  >\r\n               {loggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/signin\" />}\r\n             </Route >              \r\n                                        \r\n            </Switch>  \r\n            <Route exact path=\"/\"  >\r\n            <Footer/>\r\n            </Route>           \r\n            <EditProfilePopup\r\n              isOpen={isEditProfilePopupOpen}\r\n              onClose={closeAllPopups}\r\n              onUpdateUser={handleUpdateUser}\r\n            />\r\n            <EditAvatarPopup\r\n              isOpen={isEditAvatarPopupOpen}\r\n              onClose={closeAllPopups}\r\n              onUpdateAvatar={handleUpdateAvatar}\r\n            />\r\n            <AddPlacePopup\r\n              isOpen={isAddPlacePopupOpen}\r\n              onClose={closeAllPopups}\r\n              onAddPlace={handleAddPlace}\r\n            />\r\n            <PopupWithForm\r\n              name=\"confirm\"\r\n              isOpen={isTrashOpen}\r\n              title=\"Вы уверены?\"\r\n              buttonText=\"Да\"\r\n              onClose={closeAllPopups}\r\n            />\r\n            <ImagePopup card={selectedCard} onClose={closeAllPopups} />  \r\n            < InfoTooltip  onClose={closeAllPopups}  isOpen={isInfoTooltipOpen} status={status}/>    \r\n          </div>\r\n        </div>     \r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport {BrowserRouter} from 'react-router-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n    <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n\r\n"],"sourceRoot":""}